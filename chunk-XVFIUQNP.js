import{A as H,b as P,i as O,j as b,l as w,m as A,n as T,o as V,p as L,q as N,r as W,s as G,t as B,y as j}from"./chunk-QGA5YZV3.js";import"./chunk-SIDZIVJD.js";import"./chunk-5UZQIQ7A.js";import"./chunk-3SXNPFQ7.js";import"./chunk-4PGTP63H.js";import"./chunk-ODTSDC7S.js";import"./chunk-HC6MZPB3.js";import"./chunk-IE6PXRL6.js";import"./chunk-FERD25SW.js";import"./chunk-SYQESB6R.js";import"./chunk-LEIMCQKJ.js";import"./chunk-MM5QLNJM.js";import"./chunk-72KDLSWN.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-7YR6A2SD.js";import"./chunk-MCRJI3T3.js";import"./chunk-JNW6QASV.js";import"./chunk-XI2YEWEB.js";import{b as k}from"./chunk-3KAX6AFY.js";import{$ as M,C as g,F as m,G as o,H as a,O as f,Pa as E,Ra as D,V as l,W as h,X as S,Y as C,Z as _,Za as F,_ as v,ga as y,ha as z,ka as x,v as r,w as u,y as I}from"./chunk-6OY3HDAQ.js";import"./chunk-2VTV7JYR.js";import"./chunk-7ZOQVXVY.js";import"./chunk-ZBVVLYRZ.js";import"./chunk-F7XBNY6P.js";import"./chunk-MQFCGRNH.js";import"./chunk-3M36IMRS.js";import"./chunk-HE2NRPEE.js";import"./chunk-LTIPSBNC.js";import"./chunk-JWIEPCRG.js";import"./chunk-LF5XB4YN.js";import{f as p}from"./chunk-RW4GY4BD.js";function J(t,s){if(t&1&&(o(0,"ion-select-option",8),l(1),a()),t&2){let n=s.$implicit;m("value",n),r(),h(n)}}function K(t,s){if(t&1&&(o(0,"ion-item")(1,"ion-label")(2,"h2"),l(3),a(),o(4,"p"),l(5),a(),o(6,"p"),l(7),a()()()),t&2){let n=s.$implicit;r(3),h(n.Descrizione),r(2),C("",n.Mese," ",n.Giorno," - \u20AC",n.Spesa,""),r(2),S("Categoria: ",n.Categoria_Primaria," > ",n.Categoria_Secondaria,"")}}function Q(t,s){if(t&1&&(o(0,"div")(1,"ion-list"),g(2,K,8,6,"ion-item",9),a()()),t&2){let n=f();r(2),m("ngForOf",n.getFilteredSpese())}}function R(t,s){if(t&1&&(o(0,"ion-item")(1,"ion-label")(2,"h2"),l(3),a(),o(4,"p"),l(5),a()()()),t&2){let n=s.$implicit;r(3),h(n.Descrizione),r(2),S("",n.Mese," - \u20AC",n.Valore,"")}}function U(t,s){if(t&1&&(o(0,"div")(1,"ion-list"),g(2,R,6,3,"ion-item",9),a()()),t&2){let n=f();r(2),m("ngForOf",n.getFilteredIngressi())}}var oe=(()=>{let s=class s{constructor(i,e){this.sheetsService=i,this.loadingController=e,this.spese=[],this.ingressi=[],this.selectedMonth="All",this.selectedSegment="spese",this.months=["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"]}ngOnInit(){return p(this,null,function*(){let i=yield this.loadingController.create({message:"Caricamento dati..."});yield i.present();try{yield this.loadSpese(),yield this.loadIngressi()}catch(e){console.error("Errore nel caricamento dei dati:",e)}finally{yield i.dismiss()}})}loadSpese(){return p(this,null,function*(){try{let i=yield this.sheetsService.getData("Spese!A2:F");this.spese=i.map(e=>({Descrizione:e[0],Mese:e[1],Giorno:e[2],Spesa:e[3],Categoria_Primaria:e[4],Categoria_Secondaria:e[5]}))}catch(i){console.error("Errore nel caricamento delle spese",i)}})}loadIngressi(){return p(this,null,function*(){try{let i=yield this.sheetsService.getData("Ingressi!A2:C");this.ingressi=i.map(e=>({Mese:e[0],Descrizione:e[1],Valore:e[2]}))}catch(i){console.error("Errore nel caricamento degli ingressi",i)}})}getFilteredSpese(){return this.selectedMonth==="All"?this.spese:this.spese.filter(i=>i.Mese.toLowerCase()===this.selectedMonth.toLowerCase())}getFilteredIngressi(){return this.selectedMonth==="All"?this.ingressi:this.ingressi.filter(i=>i.Mese.toLowerCase()===this.selectedMonth.toLowerCase())}};s.\u0275fac=function(e){return new(e||s)(u(k),u(j))},s.\u0275cmp=I({type:s,selectors:[["app-visualizza-dati"]],decls:21,vars:6,consts:[[1,"ion-padding",3,"fullscreen"],["interface","popover",3,"ngModelChange","ngModel"],["value","All"],[3,"value",4,"ngFor","ngForOf"],[2,"margin-top","16px",3,"ngModelChange","ngModel"],["value","spese"],["value","ingressi"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"]],template:function(e,c){e&1&&(o(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),l(3,"Visualizza Dati"),a()()(),o(4,"ion-content",0)(5,"ion-item")(6,"ion-label"),l(7,"Mese"),a(),o(8,"ion-select",1),M("ngModelChange",function(d){return v(c.selectedMonth,d)||(c.selectedMonth=d),d}),o(9,"ion-select-option",2),l(10,"Tutto"),a(),g(11,J,2,2,"ion-select-option",3),a()(),o(12,"ion-segment",4),M("ngModelChange",function(d){return v(c.selectedSegment,d)||(c.selectedSegment=d),d}),o(13,"ion-segment-button",5)(14,"ion-label"),l(15,"Spese"),a()(),o(16,"ion-segment-button",6)(17,"ion-label"),l(18,"Ingressi"),a()()(),g(19,Q,3,1,"div",7)(20,U,3,1,"div",7),a()),e&2&&(r(4),m("fullscreen",!0),r(4),_("ngModel",c.selectedMonth),r(3),m("ngForOf",c.months),r(),_("ngModel",c.selectedSegment),r(7),m("ngIf",c.selectedSegment==="spese"),r(),m("ngIf",c.selectedSegment==="ingressi"))},dependencies:[H,O,b,w,A,T,V,L,N,W,G,B,P,x,y,z,F,E,D],styles:["ion-item[_ngcontent-%COMP%]{--inner-padding-end: 0}ion-item[_ngcontent-%COMP%] + ion-segment[_ngcontent-%COMP%]{margin-top:16px}"]});let t=s;return t})();export{oe as VisualizzaDatiPage};
