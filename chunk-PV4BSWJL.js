import{b as H}from"./chunk-7BS5CDB5.js";import"./chunk-VSKOGBAH.js";import"./chunk-ADY2GKJC.js";import"./chunk-WBLWCSP5.js";import"./chunk-UXMDVUQN.js";import"./chunk-HC6MZPB3.js";import"./chunk-YMI2B6JE.js";import"./chunk-4YKVRCH4.js";import"./chunk-FERD25SW.js";import"./chunk-SYQESB6R.js";import"./chunk-LEIMCQKJ.js";import"./chunk-MM5QLNJM.js";import"./chunk-72KDLSWN.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-4JAX2GF5.js";import"./chunk-MCRJI3T3.js";import"./chunk-YUQCATHU.js";import"./chunk-WZBJ6353.js";import{b as j}from"./chunk-HNMFFCQ3.js";import{$a as b,A as c,B as o,C as a,Ca as P,J as h,Q as l,R as u,S as _,T as I,U as S,V as v,W as M,_a as O,aa as y,ab as w,ba as z,bb as A,cb as T,db as V,ea as x,eb as L,fb as N,gb as W,jb as G,kb as B,pa as D,s as r,sa as E,t as f,ua as F,v as C,y as g}from"./chunk-WIWO6GNL.js";import"./chunk-N3PT3BRI.js";import"./chunk-5TFNS7IN.js";import"./chunk-QKUHOLOF.js";import"./chunk-6DP5AXAB.js";import"./chunk-G3CV3VGG.js";import"./chunk-JX3TYZ34.js";import"./chunk-RUY5SX76.js";import"./chunk-NIOQNOHM.js";import"./chunk-4U6PRYVA.js";import"./chunk-QXT6YJJ4.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{f as p}from"./chunk-RW4GY4BD.js";function q(t,s){if(t&1&&(o(0,"ion-select-option",8),l(1),a()),t&2){let n=s.$implicit;c("value",n),r(),u(n)}}function J(t,s){if(t&1&&(o(0,"ion-item")(1,"ion-label")(2,"h2"),l(3),a(),o(4,"p"),l(5),a(),o(6,"p"),l(7),a()()()),t&2){let n=s.$implicit;r(3),u(n.Descrizione),r(2),I("",n.Mese," ",n.Giorno," - \u20AC",n.Spesa,""),r(2),_("Categoria: ",n.Categoria_Primaria," > ",n.Categoria_Secondaria,"")}}function K(t,s){if(t&1&&(o(0,"div")(1,"ion-list"),g(2,J,8,6,"ion-item",9),a()()),t&2){let n=h();r(2),c("ngForOf",n.getFilteredSpese())}}function Q(t,s){if(t&1&&(o(0,"ion-item")(1,"ion-label")(2,"h2"),l(3),a(),o(4,"p"),l(5),a()()()),t&2){let n=s.$implicit;r(3),u(n.Descrizione),r(2),_("",n.Mese," - \u20AC",n.Valore,"")}}function R(t,s){if(t&1&&(o(0,"div")(1,"ion-list"),g(2,Q,6,3,"ion-item",9),a()()),t&2){let n=h();r(2),c("ngForOf",n.getFilteredIngressi())}}var ne=(()=>{let s=class s{constructor(i,e){this.sheetsService=i,this.loadingController=e,this.spese=[],this.ingressi=[],this.selectedMonth="All",this.selectedSegment="spese",this.months=["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"]}ngOnInit(){return p(this,null,function*(){let i=yield this.loadingController.create({message:"Caricamento dati..."});yield i.present();try{yield this.loadSpese(),yield this.loadIngressi()}catch(e){console.error("Errore nel caricamento dei dati:",e)}finally{yield i.dismiss()}})}loadSpese(){return p(this,null,function*(){try{let i=yield this.sheetsService.getData("Spese!A2:F");this.spese=i.map(e=>({Descrizione:e[0],Mese:e[1],Giorno:e[2],Spesa:e[3],Categoria_Primaria:e[4],Categoria_Secondaria:e[5]}))}catch(i){console.error("Errore nel caricamento delle spese",i)}})}loadIngressi(){return p(this,null,function*(){try{let i=yield this.sheetsService.getData("Ingressi!A2:C");this.ingressi=i.map(e=>({Mese:e[0],Descrizione:e[1],Valore:e[2]}))}catch(i){console.error("Errore nel caricamento degli ingressi",i)}})}getFilteredSpese(){return this.selectedMonth==="All"?this.spese:this.spese.filter(i=>i.Mese.toLowerCase()===this.selectedMonth.toLowerCase())}getFilteredIngressi(){return this.selectedMonth==="All"?this.ingressi:this.ingressi.filter(i=>i.Mese.toLowerCase()===this.selectedMonth.toLowerCase())}};s.\u0275fac=function(e){return new(e||s)(f(j),f(H))},s.\u0275cmp=C({type:s,selectors:[["app-visualizza-dati"]],decls:21,vars:6,consts:[[1,"ion-padding",3,"fullscreen"],["interface","popover","ngDefaultControl","",3,"ngModelChange","ngModel"],["value","All"],[3,"value",4,"ngFor","ngForOf"],["ngDefaultControl","",2,"margin-top","16px",3,"ngModelChange","ngModel"],["value","spese"],["value","ingressi"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"]],template:function(e,m){e&1&&(o(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),l(3,"Visualizza Dati"),a()()(),o(4,"ion-content",0)(5,"ion-item")(6,"ion-label"),l(7,"Mese"),a(),o(8,"ion-select",1),M("ngModelChange",function(d){return v(m.selectedMonth,d)||(m.selectedMonth=d),d}),o(9,"ion-select-option",2),l(10,"Tutto"),a(),g(11,q,2,2,"ion-select-option",3),a()(),o(12,"ion-segment",4),M("ngModelChange",function(d){return v(m.selectedSegment,d)||(m.selectedSegment=d),d}),o(13,"ion-segment-button",5)(14,"ion-label"),l(15,"Spese"),a()(),o(16,"ion-segment-button",6)(17,"ion-label"),l(18,"Ingressi"),a()()(),g(19,K,3,1,"div",7)(20,R,3,1,"div",7),a()),e&2&&(r(4),c("fullscreen",!0),r(4),S("ngModel",m.selectedMonth),r(3),c("ngForOf",m.months),r(),S("ngModel",m.selectedSegment),r(7),c("ngIf",m.selectedSegment==="spese"),r(),c("ngIf",m.selectedSegment==="ingressi"))},dependencies:[T,G,V,L,w,A,B,W,b,N,O,x,y,z,P,D,E,F],styles:["ion-item[_ngcontent-%COMP%]{--inner-padding-end: 0}ion-item[_ngcontent-%COMP%] + ion-segment[_ngcontent-%COMP%]{margin-top:16px}"]});let t=s;return t})();export{ne as VisualizzaDatiPage};
