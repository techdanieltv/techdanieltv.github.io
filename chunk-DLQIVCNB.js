import{A as $,a as _,b as x,c as A,d as O,i as q,j as D,k as G,l as T,m as z,q as j,r as K,s as P,t as B,w as L,x as R}from"./chunk-QGA5YZV3.js";import"./chunk-SIDZIVJD.js";import"./chunk-5UZQIQ7A.js";import"./chunk-3SXNPFQ7.js";import"./chunk-4PGTP63H.js";import"./chunk-ODTSDC7S.js";import"./chunk-HC6MZPB3.js";import"./chunk-IE6PXRL6.js";import"./chunk-FERD25SW.js";import"./chunk-SYQESB6R.js";import"./chunk-LEIMCQKJ.js";import"./chunk-MM5QLNJM.js";import"./chunk-72KDLSWN.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-7YR6A2SD.js";import"./chunk-MCRJI3T3.js";import"./chunk-JNW6QASV.js";import"./chunk-XI2YEWEB.js";import{b as k}from"./chunk-3KAX6AFY.js";import{C as h,F as m,G as r,H as e,I as p,N as v,Oa as c,Pa as C,Qa as F,Sa as y,Ta as M,Ua as E,V as s,W as I,Xa as N,Ya as w,_a as V,ga as b,ka as S,v as l,w as u,y as f}from"./chunk-6OY3HDAQ.js";import"./chunk-2VTV7JYR.js";import"./chunk-7ZOQVXVY.js";import"./chunk-ZBVVLYRZ.js";import"./chunk-F7XBNY6P.js";import"./chunk-MQFCGRNH.js";import"./chunk-3M36IMRS.js";import"./chunk-HE2NRPEE.js";import"./chunk-LTIPSBNC.js";import"./chunk-JWIEPCRG.js";import"./chunk-LF5XB4YN.js";import{f as g}from"./chunk-RW4GY4BD.js";function J(a,n){if(a&1&&(r(0,"ion-select-option",8),s(1),e()),a&2){let d=n.$implicit;m("value",d),l(),I(d)}}var ie=(()=>{let n=class n{constructor(t,o,i){this.fb=t,this.sheetsService=o,this.alertController=i,this.months=["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],this.ingressiForm=this.fb.group({mese:[this.getCurrentMonth(),c.required],descrizione:["",c.required],valore:["",[c.required,c.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]]})}getCurrentMonth(){let t=new Date().getMonth();return this.months[t]}submitIngresso(){return g(this,null,function*(){if(this.ingressiForm.invalid){yield(yield this.alertController.create({header:"Errore",message:"Per favore, compila tutti i campi correttamente.",buttons:["OK"]})).present();return}let t=this.ingressiForm.value,o=[t.mese,t.descrizione,t.valore];try{yield this.sheetsService.appendData("Ingressi!A2:C",o),yield(yield this.alertController.create({header:"Successo",message:"Ingresso inserito correttamente.",buttons:["OK"]})).present(),this.ingressiForm.reset({mese:this.getCurrentMonth()})}catch{yield(yield this.alertController.create({header:"Errore",message:"C'\xE8 stato un problema nell'inserimento dell'ingresso.",buttons:["OK"]})).present()}})}};n.\u0275fac=function(o){return new(o||n)(u(w),u(k),u(R))},n.\u0275cmp=f({type:n,selectors:[["app-inserisci-ingressi"]],decls:21,vars:4,consts:[[1,"ion-padding",3,"fullscreen"],[3,"ngSubmit","formGroup"],["position","stacked"],["formControlName","mese","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","descrizione","type","text","required",""],["formControlName","valore","type","number","min","0","step","0.01","required",""],["expand","full","type","submit",3,"disabled"],[3,"value"]],template:function(o,i){o&1&&(r(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),s(3,"Inserisci Ingresso"),e()()(),r(4,"ion-content",0)(5,"form",1),v("ngSubmit",function(){return i.submitIngresso()}),r(6,"ion-item")(7,"ion-label",2),s(8,"Mese"),e(),r(9,"ion-select",3),h(10,J,2,2,"ion-select-option",4),e()(),r(11,"ion-item")(12,"ion-label",2),s(13,"Descrizione"),e(),p(14,"ion-input",5),e(),r(15,"ion-item")(16,"ion-label",2),s(17,"Valore (\u20AC)"),e(),p(18,"ion-input",6),e(),r(19,"ion-button",7),s(20,"Inserisci"),e()()()),o&2&&(l(4),m("fullscreen",!0),l(),m("formGroup",i.ingressiForm),l(5),m("ngForOf",i.months),l(9),m("disabled",i.ingressiForm.invalid))},dependencies:[$,O,q,D,G,T,z,j,K,P,B,_,x,A,L,S,b,V,y,C,F,N,M,E],encapsulation:2});let a=n;return a})();export{ie as InserisciIngressiPage};
