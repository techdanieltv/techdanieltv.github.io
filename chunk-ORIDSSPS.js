import{b as j}from"./chunk-HNMFFCQ3.js";import{$a as b,A as c,B as n,C as o,Ca as P,J as f,Q as l,R as u,S as h,T as C,U as _,V as S,W as v,_a as O,aa as y,ab as A,ba as z,bb as T,cb as V,db as L,ea as x,eb as w,fb as N,gb as W,jb as G,kb as B,pa as D,s as r,sa as E,t as M,ua as F,v as I,y as g}from"./chunk-WIWO6GNL.js";import"./chunk-N3PT3BRI.js";import"./chunk-5TFNS7IN.js";import"./chunk-QKUHOLOF.js";import"./chunk-6DP5AXAB.js";import"./chunk-G3CV3VGG.js";import"./chunk-JX3TYZ34.js";import"./chunk-RUY5SX76.js";import"./chunk-NIOQNOHM.js";import"./chunk-4U6PRYVA.js";import"./chunk-QXT6YJJ4.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{f as p}from"./chunk-RW4GY4BD.js";function k(e,s){if(e&1&&(n(0,"ion-select-option",8),l(1),o()),e&2){let t=s.$implicit;c("value",t),r(),u(t)}}function q(e,s){if(e&1&&(n(0,"ion-item")(1,"ion-label")(2,"h2"),l(3),o(),n(4,"p"),l(5),o(),n(6,"p"),l(7),o()()()),e&2){let t=s.$implicit;r(3),u(t.Descrizione),r(2),C("",t.Mese," ",t.Giorno," - \u20AC",t.Spesa,""),r(2),h("Categoria: ",t.Categoria_Primaria," > ",t.Categoria_Secondaria,"")}}function J(e,s){if(e&1&&(n(0,"div")(1,"ion-list"),g(2,q,8,6,"ion-item",9),o()()),e&2){let t=f();r(2),c("ngForOf",t.getFilteredSpese())}}function K(e,s){if(e&1&&(n(0,"ion-item")(1,"ion-label")(2,"h2"),l(3),o(),n(4,"p"),l(5),o()()()),e&2){let t=s.$implicit;r(3),u(t.Descrizione),r(2),h("",t.Mese," - \u20AC",t.Valore,"")}}function Q(e,s){if(e&1&&(n(0,"div")(1,"ion-list"),g(2,K,6,3,"ion-item",9),o()()),e&2){let t=f();r(2),c("ngForOf",t.getFilteredIngressi())}}var te=(()=>{let s=class s{constructor(i){this.sheetsService=i,this.spese=[],this.ingressi=[],this.selectedMonth="All",this.selectedSegment="spese",this.months=["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"]}ngOnInit(){return p(this,null,function*(){try{yield this.loadSpese(),yield this.loadIngressi()}catch(i){console.error("Errore nel caricamento dei dati:",i)}})}loadSpese(){return p(this,null,function*(){try{let i=yield this.sheetsService.getData("Spese!A2:F");this.spese=i.map(a=>({Descrizione:a[0],Mese:a[1],Giorno:a[2],Spesa:a[3],Categoria_Primaria:a[4],Categoria_Secondaria:a[5]}))}catch(i){console.error("Errore nel caricamento delle spese",i)}})}loadIngressi(){return p(this,null,function*(){try{let i=yield this.sheetsService.getData("Ingressi!A2:C");this.ingressi=i.map(a=>({Mese:a[0],Descrizione:a[1],Valore:a[2]}))}catch(i){console.error("Errore nel caricamento degli ingressi",i)}})}getFilteredSpese(){return this.selectedMonth==="All"?this.spese:this.spese.filter(i=>i.Mese.toLowerCase()===this.selectedMonth.toLowerCase())}getFilteredIngressi(){return this.selectedMonth==="All"?this.ingressi:this.ingressi.filter(i=>i.Mese.toLowerCase()===this.selectedMonth.toLowerCase())}};s.\u0275fac=function(a){return new(a||s)(M(j))},s.\u0275cmp=I({type:s,selectors:[["app-visualizza-dati"]],decls:21,vars:6,consts:[[1,"ion-padding",3,"fullscreen"],["interface","popover","ngDefaultControl","",3,"ngModelChange","ngModel"],["value","All"],[3,"value",4,"ngFor","ngForOf"],["ngDefaultControl","",2,"margin-top","16px",3,"ngModelChange","ngModel"],["value","spese"],["value","ingressi"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"]],template:function(a,m){a&1&&(n(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),l(3,"Visualizza Dati"),o()()(),n(4,"ion-content",0)(5,"ion-item")(6,"ion-label"),l(7,"Mese"),o(),n(8,"ion-select",1),v("ngModelChange",function(d){return S(m.selectedMonth,d)||(m.selectedMonth=d),d}),n(9,"ion-select-option",2),l(10,"Tutto"),o(),g(11,k,2,2,"ion-select-option",3),o()(),n(12,"ion-segment",4),v("ngModelChange",function(d){return S(m.selectedSegment,d)||(m.selectedSegment=d),d}),n(13,"ion-segment-button",5)(14,"ion-label"),l(15,"Spese"),o()(),n(16,"ion-segment-button",6)(17,"ion-label"),l(18,"Ingressi"),o()()(),g(19,J,3,1,"div",7)(20,Q,3,1,"div",7),o()),a&2&&(r(4),c("fullscreen",!0),r(4),_("ngModel",m.selectedMonth),r(3),c("ngForOf",m.months),r(),_("ngModel",m.selectedSegment),r(7),c("ngIf",m.selectedSegment==="spese"),r(),c("ngIf",m.selectedSegment==="ingressi"))},dependencies:[V,G,L,w,A,T,B,W,b,N,O,x,y,z,P,D,E,F],styles:["ion-item[_ngcontent-%COMP%]{--inner-padding-end: 0}ion-item[_ngcontent-%COMP%] + ion-segment[_ngcontent-%COMP%]{margin-top:16px}"]});let e=s;return e})();export{te as VisualizzaDatiPage};
