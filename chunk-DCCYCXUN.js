import{a as P}from"./chunk-XPOHC24I.js";import"./chunk-VSKOGBAH.js";import"./chunk-ADY2GKJC.js";import"./chunk-WBLWCSP5.js";import"./chunk-UXMDVUQN.js";import"./chunk-HC6MZPB3.js";import"./chunk-YMI2B6JE.js";import"./chunk-4YKVRCH4.js";import"./chunk-FERD25SW.js";import"./chunk-SYQESB6R.js";import"./chunk-LEIMCQKJ.js";import"./chunk-MM5QLNJM.js";import"./chunk-72KDLSWN.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-4JAX2GF5.js";import"./chunk-MCRJI3T3.js";import"./chunk-YUQCATHU.js";import"./chunk-WZBJ6353.js";import{b as K}from"./chunk-2SKO46GI.js";import{$a as x,A as m,Aa as N,B as r,Ba as w,C as e,D as u,Da as _,I as v,Q as s,R as I,Va as O,_a as q,aa as b,ab as D,bb as G,ea as C,eb as A,fb as T,gb as V,ib as z,jb as j,ra as c,s as l,sa as S,t as p,ta as F,v as f,va as y,wa as E,xa as M,y as h}from"./chunk-VG5HJCEH.js";import"./chunk-N3PT3BRI.js";import"./chunk-5TFNS7IN.js";import"./chunk-QKUHOLOF.js";import"./chunk-6DP5AXAB.js";import"./chunk-G3CV3VGG.js";import"./chunk-JX3TYZ34.js";import"./chunk-RUY5SX76.js";import"./chunk-NIOQNOHM.js";import"./chunk-4U6PRYVA.js";import"./chunk-QXT6YJJ4.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{f as g}from"./chunk-RW4GY4BD.js";function L(a,n){if(a&1&&(r(0,"ion-select-option",8),s(1),e()),a&2){let d=n.$implicit;m("value",d),l(),I(d)}}var X=(()=>{let n=class n{constructor(t,o,i){this.fb=t,this.sheetsService=o,this.alertController=i,this.months=["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],this.ingressiForm=this.fb.group({mese:[this.getCurrentMonth(),c.required],descrizione:["",c.required],valore:["",[c.required,c.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]]})}getCurrentMonth(){let t=new Date().getMonth();return this.months[t]}submitIngresso(){return g(this,null,function*(){if(this.ingressiForm.invalid){yield(yield this.alertController.create({header:"Errore",message:"Per favore, compila tutti i campi correttamente.",buttons:["OK"]})).present();return}let t=this.ingressiForm.value,o=[t.mese,t.descrizione,t.valore];try{yield this.sheetsService.appendData("Ingressi!A2:C",o),yield(yield this.alertController.create({header:"Successo",message:"Ingresso inserito correttamente.",buttons:["OK"]})).present(),this.ingressiForm.reset({mese:this.getCurrentMonth()})}catch{yield(yield this.alertController.create({header:"Errore",message:"C'\xE8 stato un problema nell'inserimento dell'ingresso.",buttons:["OK"]})).present()}})}};n.\u0275fac=function(o){return new(o||n)(p(w),p(K),p(P))},n.\u0275cmp=f({type:n,selectors:[["app-inserisci-ingressi"]],decls:21,vars:4,consts:[[1,"ion-padding",3,"fullscreen"],[3,"ngSubmit","formGroup"],["position","stacked"],["formControlName","mese","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","descrizione","type","text","required",""],["formControlName","valore","type","number","min","0","step","0.01","required",""],["expand","full","type","submit",3,"disabled"],[3,"value"]],template:function(o,i){o&1&&(r(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),s(3,"Inserisci Ingresso"),e()()(),r(4,"ion-content",0)(5,"form",1),v("ngSubmit",function(){return i.submitIngresso()}),r(6,"ion-item")(7,"ion-label",2),s(8,"Mese"),e(),r(9,"ion-select",3),h(10,L,2,2,"ion-select-option",4),e()(),r(11,"ion-item")(12,"ion-label",2),s(13,"Descrizione"),e(),u(14,"ion-input",5),e(),r(15,"ion-item")(16,"ion-label",2),s(17,"Valore (\u20AC)"),e(),u(18,"ion-input",6),e(),r(19,"ion-button",7),s(20,"Inserisci"),e()()()),o&2&&(l(4),m("fullscreen",!0),l(),m("formGroup",i.ingressiForm),l(5),m("ngForOf",i.months),l(9),m("disabled",i.ingressiForm.invalid))},dependencies:[j,z,O,A,G,D,q,x,V,T,C,b,_,y,S,F,N,E,M],encapsulation:2});let a=n;return a})();export{X as InserisciIngressiPage};
